#!/usr/bin/python
#vim: noet sw=4 ts=4

import	os
import	sys
import	__main__

try:
    # This hopscotch lets us run from the development directory
    # and is ignored if run from an installed place.
    here = os.path.abspath(
        os.path.expanduser(
            __main__.__file__
        )
    )
    if here.startswith( os.getenv( 'HOME' ) ):
        sys.path.insert(
            0,
            os.path.abspath(
                os.path.join(
                    os.path.dirname( here ),
                    '..',
                    'src'
                )
            )
        )
        # for path in sys.path:
        #    print >>sys.stderr, '> {0}'.format( path )
        import  __init__ as gpp
    else:
        import	gpp
except Exception, e:
    print >>sys.stderr, 'Cannot locate gpp'
    print >>sys.stderr, 'Module path:'
    for path in sys.path:
	print >>sys.stderr, '\t%s' % path
    print >>sys.stderr, e
    raise e

pp = gpp.GenericPrettyPrinter()
exit( pp.main() )
